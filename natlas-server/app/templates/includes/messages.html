{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div class="messages space-y-4">
      {% for category, message in messages %}
        {% if category == 'success' %}
          {% set alert_class = 'bg-green-100 border border-green-400 text-green-700' %}
        {% elif category == 'error' %}
          {% set alert_class = 'bg-red-100 border border-red-400 text-red-700' %}
        {% elif category == 'warning' %}
          {% set alert_class = 'bg-yellow-100 border border-yellow-400 text-yellow-700' %}
        {% elif category == 'info' %}
          {% set alert_class = 'bg-blue-100 border border-blue-400 text-blue-700' %}
        {% else %}
          {% set alert_class = 'bg-gray-100 border border-gray-400 text-gray-700' %}
        {% endif %}
        <div x-data="{ show: true }" x-show="show" x-transition class="flex items-center justify-between p-4 mb-4 text-sm rounded-lg {{ alert_class }}" role="alert">
          <span>{{ message }}</span>
          <button type="button" class="ml-3 text-xl leading-none" @click="show = false" aria-label="Close">
            &times;
          </button>
        </div>
      {% endfor %}
    </div>
    {% endif %}
{% endwith %}
