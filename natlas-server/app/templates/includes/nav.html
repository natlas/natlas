<nav class="bg-gray-900 fixed top-0 left-0 right-0 z-50">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">

        <!-- Brand -->
        <a class="flex items-center text-white natlas-brand" href="{{ url_for('main.index') }}" title="Natlas Home">
            <img src="/static/img/natlas-logo.png" class="h-8 w-auto" alt="Natlas Globe"/>
            <span class="sr-only">Natlas</span>
            {% if config.CUSTOM_BRAND %}
              <span class="ml-1">{{ config.CUSTOM_BRAND }}</span>
            {% endif %}
        </a>

        <!-- Mobile Menu Button -->
        <button type="button" class="text-white md:hidden focus:outline-none" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>

        <!-- Navbar Links & Extras -->
        <div id="navbar" class="hidden md:flex md:items-center md:space-x-4 w-full md:w-auto">
          <!-- Navigation Links -->
          <ul class="flex flex-col md:flex-row md:space-x-4 mt-4 md:mt-0 flex-grow">
            <li>
                <a class="block text-white hover:text-gray-300 py-2" href="{{ url_for('main.browse') }}">Browse</a>
            </li>
            <li>
                <a class="block text-white hover:text-gray-300 py-2" href="{{ url_for('main.screenshots') }}">Screenshots</a>
            </li>
            <li>
                <a class="block text-white hover:text-gray-300 py-2" href="{{ url_for('main.status') }}">Status</a>
            </li>
            <li>
                <a class="block text-white hover:text-gray-300 py-2" href="{{ url_for('host.random_host') }}">Random</a>
            </li>
          </ul>

          <!-- User Dropdown -->
          <div class="relative ml-4">
            <button class="flex items-center bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-600 focus:outline-none" type="button" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-user"></i>
            </button>
            <div class="dropdown-menu absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20">
                {% if current_user.is_admin %}
                  <a class="block px-4 py-2 text-gray-700 hover:bg-gray-100" href="{{ url_for('admin.admin') }}">Admin</a>
                {% endif %}
                {% if current_user.is_anonymous %}
                  <a class="block px-4 py-2 text-gray-700 hover:bg-gray-100" href="{{ url_for('auth.login') }}">Login</a>
                {% else %}
                  <a class="block px-4 py-2 text-gray-700 hover:bg-gray-100" href="{{ url_for('user.profile') }}">Profile</a>
                  <div class="border-t border-gray-200"></div>
                  <a class="block px-4 py-2 text-gray-700 hover:bg-gray-100" href="{{ url_for('auth.logout') }}">Logout</a>
                {% endif %}
            </div>
          </div>

          <!-- Search Form -->
          <form class="flex items-center ml-4" action="{{ url_for('main.search') }}" name="search">
            <div class="flex">
              <input type="text" class="block w-full px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring focus:border-blue-300"
                     aria-label="Search" value="{{query}}" required name="query" placeholder="Search..." aria-describedby="search-addon"/>
              <button class="px-4 py-2 border border-gray-300 bg-gray-100 text-gray-700 rounded-r-md hover:bg-gray-200 focus:outline-none" type="submit" id="search-addon">
                <i class="fas fa-search"></i>
              </button>
            </div>
            <a href="#" class="ml-1 text-gray-400 hover:text-gray-200" data-toggle="modal" data-target="#searchHelp" onclick="loadModalContent()">
              <i class="fas fa-question-circle natlas-pink"></i>
            </a>
          </form>
        </div>
      </div>
    </div>
  </nav>

  {% include 'includes/search_modal.html' %}
